

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4. Agv commissioning &mdash; Robox Notes 1.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Robox Notes 1.0.0 documentation" href="../../index.html"/>
        <link rel="next" title="1. External editors" href="../Appendices/External_editors.html"/>
        <link rel="prev" title="3. Motion control" href="Motion_control.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-108532843-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-108532843-1');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../../index.html" class="icon icon-home">
        

          MoveIt! Motion<br/>Planning Framework

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <p class="caption"><span class="caption-text">AGV - Automatic Guided Vehicle</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../AgvManager/Overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AgvManager/Rat.html">2. RAT</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../AgvManager/Rat.html#id1">2.1. RAT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../AgvManager/Rat.html#map">2.2. Map</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../AgvManager/Rat.html#vehicle">2.2.1. Vehicle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../AgvManager/Rat.html#lines">2.2.2. Lines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../AgvManager/Rat.html#tips">2.3. Tips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../AgvManager/AgvManager.html">3. AgvManager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AgvManager/More_examples.html">4. More examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Motion control</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Overview.html">1. Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Overview.html#components">1.1. Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="Overview.html#multitasking">1.2. Multitasking</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="RDE.html">2. RDE - Robox Development Environment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="RDE.html#first-step">2.1. First step</a></li>
<li class="toctree-l2"><a class="reference internal" href="RDE.html#new-rte-project">2.2. New RTE project</a></li>
<li class="toctree-l2"><a class="reference internal" href="RDE.html#tools">2.3. Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#command-shell">2.3.1. Command shell</a><ul>
<li class="toctree-l4"><a class="reference internal" href="RDE.html#variable-management">2.3.1.1. Variable management</a></li>
<li class="toctree-l4"><a class="reference internal" href="RDE.html#device-management">2.3.1.2. Device management</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#flash-management">2.3.2. Flash management</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#example-of-use">2.3.3. Example of use</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#oscilloscope">2.3.4. Oscilloscope</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#graphic-panel">2.3.5. Graphic panel</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#hardware-configuration">2.3.6. Hardware configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#important-folders-and-files">2.3.7. Important folders and files</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#registers">2.3.8. Registers</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#bus-configuration">2.3.9. Bus configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#axes-configuration">2.3.10. Axes configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="RDE.html#programming-languages">2.4. Programming languages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#r3">2.4.1. R3</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#predefined-variables">2.4.2. Predefined variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#object-block">2.4.3. Object block</a><ul>
<li class="toctree-l4"><a class="reference internal" href="RDE.html#ob-predefined-example">2.4.3.1. OB Predefined example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="RDE.html#rte-project">2.5. RTE project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#tasks">2.5.1. Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#rules">2.5.2. Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#r3-example">2.5.3. R3 example</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#ob-example">2.5.4. OB example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="RDE.html#axis-control-example">2.6. Axis control example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#axis-configuration">2.6.1. Axis configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#power-set-and-power-handling">2.6.2. Power set and power handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#velocity-control">2.6.3. Velocity control</a></li>
<li class="toctree-l3"><a class="reference internal" href="RDE.html#position-control">2.6.4. Position control</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Motion_control.html">3. Motion control</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Motion_control.html#basics">3.1. Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="Motion_control.html#example-with-r3">3.2. Example with R3</a></li>
<li class="toctree-l2"><a class="reference internal" href="Motion_control.html#example-with-ob">3.3. Example with OB</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Agv commissioning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#mgv-mechanical-and-electrical-part">4.1. MGV mechanical and electrical part</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dispan-display-panel">4.2. Dispan : Display panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="#commissioning">4.3. Commissioning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#potentiometer">4.3.1. Potentiometer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#magnetic-sensors-and-canopen-modules">4.3.2. Magnetic sensors and Canopen modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#laser-scanner">4.3.3. Laser scanner</a></li>
<li class="toctree-l3"><a class="reference internal" href="#agv-parameters">4.3.4. AGV parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#register-backup">4.3.5. Register backup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#general-definitions">4.3.6. General definitions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#agv-ecosystem">4.4. AGV ecosystem</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#software-and-tools">4.4.1. Software and tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="#agvmanager-rp1-communication-protocol">4.4.2. AgvManager-RP1 communication protocol</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#hardware-configuration">4.5. Hardware configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#program-description">4.6. Program description</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/External_editors.html">1. External editors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Appendices/External_editors.html#vim">1.1. Vim</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Appendices/External_editors.html#syntax-highlight">1.1.1. Syntax highlight</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Appendices/External_editors.html#function-list">1.1.2. Function list</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Appendices/External_editors.html#notepad">1.2. Notepad++</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Appendices/External_editors.html#regular-expressions">1.2.1. Regular Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Appendices/External_editors.html#id1">1.2.2. Syntax highlight</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Appendices/External_editors.html#id2">1.2.3. Function list</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Appendices/External_editors.html#ultraedit">1.3. UltraEdit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Appendices/External_editors.html#id3">1.3.1. Regular Expressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Appendices/External_editors.html#function-list-and-syntax-highlight">1.3.2. Function list and syntax highlight</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Robox Notes</a>
      </nav>

      
      <div class="wy-nav-content">

        <div class="header-override">
          <p>
            <a href="http://moveit.ros.org">MoveIt! Website</a><br/>
            <a href="http://moveit.ros.org/blog">Blog</a>
          </p>
          <a href="http://moveit.ros.org">
            <img src="../../_static/logo.png"/>
          </a>
        </div>

        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="../../_sources/chapters/MotionControl/Agv_commissioning.rst.txt" rel="nofollow"> View page source</a>
        
      
    </li>
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
    <li>4. Agv commissioning</li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             <div class="admonition note"> 
               <p class="first admonition-title">Code Used in this Tutorial Available</p> 
               <p class="last">Code can be found at <a href = "https://github.com/ros-planning/moveit_tutorials">moveit_tutorials repository</a> in doc folder. Use kinetic-devel branch.</p>
             </div> 
            
  <div class="section" id="agv-commissioning">
<h1>4. Agv commissioning<a class="headerlink" href="#agv-commissioning" title="Permalink to this headline">¶</a></h1>
<p>In this chapter we will see how to setup the parameters of the AGVs in RDE environment. Before doing it, we will have a look on mechanical and electrical part of the controller.</p>
<div class="section" id="mgv-mechanical-and-electrical-part">
<h2>4.1. MGV mechanical and electrical part<a class="headerlink" href="#mgv-mechanical-and-electrical-part" title="Permalink to this headline">¶</a></h2>
<p>In this section we will describe one kind of AGV, that is MGV a  Magnetic guided vehicle. Some of the part of MGV are used in other king of AGVs. The difference is in the way of navigation and localization. The MGV have to follow a magnetic tap, using magnetic sensors. In this example the MGV use 4 magnetic sensors. Each magnetic sensor have 16 bits of output. The sensor is connected to a digital to canopen module in order to communicate with the controller.</p>
<p>In the middle of the MGV an RFID reader is placed. RFID cards are placed along the path on the magnetic tape, and are used as position feedback. The feedback is not continuous.</p>
<p>Four motors and 4 drives are present. The drives take a velocity reference from the controller via analog signal, and send a velocity feedback from an encoder. The encoder signal is read in the controller via a high speed counter. Some digital IO are exchanged between controller and drive like drive reset, drive enable, drive ready or not in alarm, etc.</p>
<p>Steering is accomplished by modulating the speed of wheels. The angle of steering is relieved via a potentiometer, and read by the controller by an analog input module.</p>
<p>There are 2 laser scanner to monitor obstacles. Each laser scanner present 4 areas, that can be activated depending on the state of the AGV. Each area have 2 or 3 ranges of action. The fist one, smallest one, is used as a safety stop of the AGV. The senond range, middle, is used to slow down the AGV when the laser scanner detect some obstacle, and the third one is used as warning. Ther laser scanner have 4 digital inputs and 4 digital outputs.</p>
<p>The AGV is powered by a batteries.</p>
<p>The communication between the AGV and AgvManager is done via an Ethernet to wireless device. The device is configured as access point. And the Ethernet to wireless device in AgvManager is configured as client.</p>
<div class="figure align-center" id="id1" style="width: 400px">
<span id="agvtop"></span><img alt="../../_images/agvtop.png" src="../../_images/agvtop.png" />
<p class="caption"><span class="caption-text">Agv Top view</span></p>
</div>
<div class="figure align-center" id="id2" style="width: 400px">
<span id="agvbottom"></span><img alt="../../_images/agvbottom.png" src="../../_images/agvbottom.png" />
<p class="caption"><span class="caption-text">Agv bottom view</span></p>
</div>
<div class="figure align-center" id="id3" style="width: 00px">
<span id="agvwheels"></span><img alt="../../_images/agvwheels.png" src="../../_images/agvwheels.png" />
<p class="caption"><span class="caption-text">AGV one set of wheels</span></p>
</div>
</div>
<div class="section" id="dispan-display-panel">
<h2>4.2. Dispan : Display panel<a class="headerlink" href="#dispan-display-panel" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id4" style="width: 400px">
<span id="dispanrde"></span><img alt="../../_images/dispanrde.png" src="../../_images/dispanrde.png" />
<p class="caption"><span class="caption-text">Dispan in RDE Graphic panel</span></p>
</div>
<div class="figure align-center" id="id5" style="width: 400px">
<span id="dispanreal"></span><img alt="../../_images/dispanrde.png" src="../../_images/dispanrde.png" />
<p class="caption"><span class="caption-text">Physical Dispan, communicate with the controller via RS485</span></p>
<div class="legend">
change picture</div>
</div>
</div>
<div class="section" id="commissioning">
<h2>4.3. Commissioning<a class="headerlink" href="#commissioning" title="Permalink to this headline">¶</a></h2>
<p>The first step in commissioning of any controller (plc or motion control) is to check the correct wiring of digital input and outputs. This step is relatively simple, using a variable monitor, online monitor or HMI we can debug the correct wiring of the signals following the electrical schematic.</p>
<p>Fig <a class="reference internal" href="#iosignals"><span class="std std-ref">AGV IO signals.</span></a> show a template panel of IO signals for debugging purpose.</p>
<div class="figure align-center" id="id6" style="width: 400px">
<span id="iosignals"></span><img alt="../../_images/iosignals.png" src="../../_images/iosignals.png" />
<p class="caption"><span class="caption-text">AGV IO signals.</span></p>
<div class="legend">
RDE graphic panel</div>
</div>
<p>Once we are sure the electrical wiring is correct, we can proceed with tuning mechanical and eletrical components and software parameters.</p>
<div class="section" id="potentiometer">
<h3>4.3.1. Potentiometer<a class="headerlink" href="#potentiometer" title="Permalink to this headline">¶</a></h3>
<p>This AGV have 2 potentiometers, every one is connectes to a set of two wheels. When a the 2 wheels connected to the same mechanical axes, rotate with different speeds, the set of wheels wil rotate arround the center of the wheels coordinate system shown in fig.ref{fig:agvwheelsystem}. The angle of rotation is measured via a potentiometer connected to the origin of the coordinate system via an elastic joint.</p>
<p>The potentiometer used in this AGV have a range between 0 and 270 degrees. The AGV can steer between $-30^{circ}$ and $120^{circ}$. We have to set the potentiometer in a way that the tension between pin 1 and 2 is around $3V$ when the wheels angle is at $0^{circ}$.</p>
<p>After that we have to scale the analog input of the controller in order to read the correct angle. A linear relationship between the tension (or the raw value read by the analog input) an the angle in degree was supposed.</p>
<p>To adjust the parameters, we can use the dispan or a variable monitor. The procedure is to place the wheels at $0^{circ}$ then at $90^{circ}$ and read the corresponding value given by the analog input. Then assign the values to the variables <code class="docutils literal notranslate"><span class="pre">NVRR\_POS\_0\_BIT\_SLEWING\_***</span></code> and <code class="docutils literal notranslate"><span class="pre">NVRR\_POS\_90\_BIT\_SLEWING\_***</span></code>. Of course that same procedure have to be done for both potentiometers the front and the rear one fig.ref{fig:agvwheelsystem}.</p>
<p>Using the dispan, we have to go to the voice F6 than choose 3 or 4 than save the parameters figurename.ref{fig:potDispanF}.</p>
<div class="figure align-center" id="id7" style="width: 400px">
<span id="agvtop2"></span><img alt="../../_images/agvtop2.png" src="../../_images/agvtop2.png" />
<p class="caption"><span class="caption-text">AGV wheel coordinate system</span></p>
</div>
<div class="figure align-center" id="id8" style="width: 400px">
<span id="pot"></span><img alt="../../_images/potentiometer.jpg" src="../../_images/potentiometer.jpg" />
<p class="caption"><span class="caption-text">Potentiometer connected to wheel vis an elastic joint</span></p>
<div class="legend">
RDE graphic panel</div>
</div>
<div class="figure align-center" id="id9" style="width: 400px">
<span id="pot2"></span><img alt="../../_images/potentiometer2.png" src="../../_images/potentiometer2.png" />
<p class="caption"><span class="caption-text">Potentiometer construction</span></p>
</div>
<div class="figure align-center" id="id10" style="width: 400px">
<span id="potschematic"></span><img alt="../../_images/potentiometersche.jpg" src="../../_images/potentiometersche.jpg" />
<p class="caption"><span class="caption-text">Potentiometer schematic</span></p>
</div>
<div class="figure align-center" id="id11" style="width: 400px">
<span id="potvarmonitor"></span><img alt="../../_images/potvarmonitor.png" src="../../_images/potvarmonitor.png" />
<p class="caption"><span class="caption-text">RDE potentiometer variable monitor</span></p>
</div>
<div class="figure align-center" id="id12" style="width: 400px">
<span id="dispanmain"></span><img alt="../../_images/dispanmain.png" src="../../_images/dispanmain.png" />
<p class="caption"><span class="caption-text">Dispan main menu, reached by F1</span></p>
</div>
<div class="figure align-center" id="id13" style="width: 400px">
<span id="dispanf6"></span><img alt="../../_images/dispanF6.png" src="../../_images/dispanF6.png" />
<p class="caption"><span class="caption-text">Dispan 6Epos: Press 3 or 4 to tune the front or back potentiometer</span></p>
</div>
<div class="figure align-center" id="id14" style="width: 400px">
<span id="dispanf6-3pot"></span><img alt="../../_images/dispanF6-3pot.png" src="../../_images/dispanF6-3pot.png" />
<p class="caption"><span class="caption-text">Front potenziometer tuning. Turn the Wheels to 0 degree then press F1. Turn the wheels to 90 degree than press F4</span></p>
</div>
<p>In lisiting <a class="reference internal" href="#lstpotscale"><span class="std std-ref">AI_scale</span></a> is shown the code R3 that represent the relationship between the analog input and the angle in degree.</p>
<div class="literal-block-wrapper docutils container" id="lstpotscale">
<div class="code-block-caption"><span class="caption-text">AI_scale</span><a class="headerlink" href="#lstpotscale" title="Permalink to this code">¶</a></div>
<div class="highlight-basic notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="o">//</span><span class="w">  </span><span class="vg">Read</span><span class="w"> </span><span class="vg">actual</span><span class="w"> </span><span class="vg">position</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">slewrings</span><span class="w"> </span><span class="p">(</span><span class="vg">steers</span><span class="p">)</span>
<span class="w"> </span><span class="o">//</span><span class="w">  </span><span class="vg">NVRR_POS_0_BIT_SLEWING_FRONT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">Position</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">front</span><span class="w"> </span><span class="vg">slewing</span><span class="w"> </span><span class="vg">axis</span><span class="w"> </span><span class="vg">at</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="vg">degrees</span><span class="w"> </span><span class="vg">in</span><span class="w"> </span><span class="vg">bits</span>
<span class="w"> </span><span class="o">//</span><span class="w">  </span><span class="vg">NVRR_POS_90_BIT_SLEWING_FRONT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">Position</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">front</span><span class="w"> </span><span class="vg">slewing</span><span class="w"> </span><span class="vg">axis</span><span class="w"> </span><span class="vg">at</span><span class="w"> </span><span class="il">90</span><span class="w"> </span><span class="vg">degrees</span><span class="w"> </span><span class="vg">in</span><span class="w"> </span><span class="vg">bits</span>
<span class="w"> </span><span class="o">//</span>
<span class="w"> </span><span class="vg">if</span><span class="w"> </span><span class="p">(</span><span class="vg">NVRR_POS_0_BIT_SLEWING_FRONT</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="vg">NVRR_POS_90_BIT_SLEWING_FRONT</span><span class="p">)</span>
<span class="w">     </span><span class="vg">ScalaFront</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">90.0</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="vg">NVRR_POS_90_BIT_SLEWING_FRONT</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="vg">NVRR_POS_0_BIT_SLEWING_FRONT</span><span class="p">)</span>
<span class="w">     </span><span class="vg">RR_CP_SLEWRING_FRONT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">ScalaFront</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="vg">RAWCP_SLEWRING_FRONT</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="vg">NVRR_POS_0_BIT_SLEWING_FRONT</span><span class="p">)</span>
<span class="w"> </span><span class="vg">else</span>
<span class="w">     </span><span class="vg">RR_CP_SLEWRING_FRONT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">999.9</span><span class="w">            </span><span class="o">//</span><span class="w"> </span><span class="vg">Error</span>
<span class="w"> </span><span class="vg">endif</span>

<span class="w"> </span><span class="vg">if</span><span class="w"> </span><span class="p">(</span><span class="vg">not</span><span class="w"> </span><span class="vg">range</span><span class="p">(</span><span class="vg">CP</span><span class="p">(</span><span class="vg">AX_SLEWRING_FRONT</span><span class="p">),</span><span class="w"> </span><span class="vg">MIN_STR</span><span class="p">(</span><span class="vg">AX_SLEWRING_FRONT</span><span class="p">),</span><span class="w"> </span><span class="vg">MAX_STR</span><span class="p">(</span><span class="vg">AX_SLEWRING_FRONT</span><span class="p">)))</span>
<span class="w">     </span><span class="vg">alarm_set</span><span class="p">(</span><span class="vg">AL_WHEEL_RANGE</span><span class="p">,</span><span class="w"> </span><span class="vg">AX_SLEWRING_FRONT</span><span class="p">)</span>
<span class="w"> </span><span class="vg">endif</span>
<span class="w"> </span><span class="o">//</span>
<span class="w"> </span><span class="o">//</span><span class="w">  </span><span class="vg">NVRR_POS_0_BIT_SLEWING_REAR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">Position</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">rear</span><span class="w"> </span><span class="vg">slewing</span><span class="w"> </span><span class="vg">axis</span><span class="w"> </span><span class="vg">at</span><span class="w"> </span><span class="il">0</span><span class="w"> </span><span class="vg">degrees</span><span class="w"> </span><span class="vg">in</span><span class="w"> </span><span class="vg">bits</span>
<span class="w"> </span><span class="o">//</span><span class="w">  </span><span class="vg">NVRR_POS_90_BIT_SLEWING_REAR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">Position</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">rear</span><span class="w"> </span><span class="vg">slewing</span><span class="w"> </span><span class="vg">axis</span><span class="w"> </span><span class="vg">at</span><span class="w"> </span><span class="il">90</span><span class="w"> </span><span class="vg">degrees</span><span class="w"> </span><span class="vg">in</span><span class="w"> </span><span class="vg">bits</span>
<span class="w"> </span><span class="p">;</span>
<span class="w"> </span><span class="vg">if</span><span class="w"> </span><span class="p">(</span><span class="vg">NVRR_POS_0_BIT_SLEWING_REAR</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="vg">NVRR_POS_90_BIT_SLEWING_REAR</span><span class="p">)</span>
<span class="w">     </span><span class="vg">ScalaRear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">90.0</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="vg">NVRR_POS_90_BIT_SLEWING_REAR</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="vg">NVRR_POS_0_BIT_SLEWING_REAR</span><span class="p">)</span>
<span class="w">     </span><span class="vg">RR_CP_SLEWRING_REAR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="vg">ScalaRear</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="vg">RAWCP_SLEWRING_REAR</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="vg">NVRR_POS_0_BIT_SLEWING_REAR</span><span class="p">)</span>
<span class="w"> </span><span class="vg">else</span>
<span class="w">     </span><span class="vg">RR_CP_SLEWRING_REAR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">999.9</span><span class="w">             </span><span class="o">//</span><span class="w"> </span><span class="vg">Error</span>
<span class="w"> </span><span class="vg">endif</span>

<span class="w"> </span><span class="vg">if</span><span class="w"> </span><span class="p">(</span><span class="vg">not</span><span class="w"> </span><span class="vg">range</span><span class="p">(</span><span class="vg">CP</span><span class="p">(</span><span class="vg">AX_SLEWRING_REAR</span><span class="p">),</span><span class="w"> </span><span class="vg">MIN_STR</span><span class="p">(</span><span class="vg">AX_SLEWRING_REAR</span><span class="p">),</span><span class="w"> </span><span class="vg">MAX_STR</span><span class="p">(</span><span class="vg">AX_SLEWRING_REAR</span><span class="p">)))</span>
<span class="w">     </span><span class="vg">alarm_set</span><span class="p">(</span><span class="vg">AL_WHEEL_RANGE</span><span class="p">,</span><span class="w"> </span><span class="vg">AX_SLEWRING_REAR</span><span class="p">)</span>
<span class="w"> </span><span class="vg">endif</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="magnetic-sensors-and-canopen-modules">
<h3>4.3.2. Magnetic sensors and Canopen modules<a class="headerlink" href="#magnetic-sensors-and-canopen-modules" title="Permalink to this headline">¶</a></h3>
<p>The 16 bits magnetic sensors are connected to canopen modules. Address have to be given to canopen modules, this can be done using the dispan and connecting every module to the <code class="docutils literal notranslate"><span class="pre">CAN2</span></code> port of the controller, and the address is given one by one to the modules.</p>
<p>The following figures show the steps of the procedure.</p>
<div class="figure align-center" id="id15" style="width: 400px">
<span id="dispanmain1"></span><img alt="../../_images/dispanmain.png" src="../../_images/dispanmain.png" />
<p class="caption"><span class="caption-text">Dispan main menu, F1</span></p>
</div>
<div class="figure align-center" id="id16" style="width: 400px">
<span id="dispanf613"></span><img alt="../../_images/dispanF6.png" src="../../_images/dispanF6.png" />
<p class="caption"><span class="caption-text">Dispan F6 menu</span></p>
</div>
<div class="figure align-center" id="id17" style="width: 400px">
<span id="dispanf614"></span><img alt="../../_images/dispanF6-2Ant.png" src="../../_images/dispanF6-2Ant.png" />
<p class="caption"><span class="caption-text">From F6 menu, press 2, to open the 2PrAnt page. Press enter to confirm</span></p>
</div>
<div class="figure align-center" id="id18" style="width: 400px">
<span id="dispanf615"></span><img alt="../../_images/dispanF6-2Ant2.png" src="../../_images/dispanF6-2Ant2.png" />
<p class="caption"><span class="caption-text">Restart AGV</span></p>
</div>
<div class="figure align-center" id="id19" style="width: 400px">
<span id="dispanf616"></span><img alt="../../_images/dispanF6-2Ant3.png" src="../../_images/dispanF6-2Ant3.png" />
<p class="caption"><span class="caption-text">After restarting AGV we can connect the canopen module to program them. When finsh press MGV to terminate and restart the AGV</span></p>
</div>
</div>
<div class="section" id="laser-scanner">
<h3>4.3.3. Laser scanner<a class="headerlink" href="#laser-scanner" title="Permalink to this headline">¶</a></h3>
<p>Every laser scanner have 4 inputs and 4 outputs. These digital signals are 4 bit code to identify the active area and the requested area. In our example we use only two input and two outputs.</p>
<p>The model of laser scanner we use, have 16 areas. The binary code is shown in fig. <a class="reference internal" href="#laserscannerobstacle"><span class="std std-ref">Laser scanner area, obstacle detected in the alarm area. AGV will stop moving</span></a>.</p>
<div class="figure align-center" id="id20" style="width: 400px">
<span id="laserscannerpbs"></span><img alt="../../_images/laserscanner-pbs.png" src="../../_images/laserscanner-pbs.png" />
<p class="caption"><span class="caption-text">PBS-03JN laser scanner area code</span></p>
</div>
<p>Four different areas will be defined depending on the state of the agv. For example if the agv is not moving the alarm range of the 2 laser scanner should be extremely small. If the AGV is going forward the range of the front laser scanner should be bigger than the rear lase scanner and viceversa. We can define also another range for curving depending on the position of fixed obstacles.</p>
<p>Areas are activated using the digital inputs of the laser scanner (controller outputs). Following the codification of the laser scanner model e.g. fig.ref{lstlaser}.</p>
<div class="figure align-center" id="id21" style="width: 400px">
<span id="laserscannerbigarea"></span><img alt="../../_images/laserscannerbigarea.png" src="../../_images/laserscannerbigarea.png" />
<p class="caption"><span class="caption-text">Laser scanner area with big alarm range</span></p>
<div class="legend">
RDE graphic panel</div>
</div>
<div class="figure align-center" id="id22" style="width: 400px">
<span id="laserscannersmallarea"></span><img alt="../../_images/laserscannersmallarea.png" src="../../_images/laserscannersmallarea.png" />
<p class="caption"><span class="caption-text">Laser scanner area with small alarm range. Active when AGV is not moving</span></p>
</div>
<div class="figure align-center" id="id23" style="width: 400px">
<span id="laserscannerobstacle"></span><img alt="../../_images/laserscannerobstacle.png" src="../../_images/laserscannerobstacle.png" />
<p class="caption"><span class="caption-text">Laser scanner area, obstacle detected in the alarm area. AGV will stop moving</span></p>
</div>
</div>
<div class="section" id="agv-parameters">
<h3>4.3.4. AGV parameters<a class="headerlink" href="#agv-parameters" title="Permalink to this headline">¶</a></h3>
<p>In task 1, AGV parameters file is loaded, the file name is written in register <code class="docutils literal notranslate"><span class="pre">nvsr(1)</span> <span class="pre">NVSR_PLANT_CONFIG_FILE</span></code>, by calling the function <code class="docutils literal notranslate"><span class="pre">LoadAgvConfig()</span></code>. We can create a parameter file called <code class="docutils literal notranslate"><span class="pre">params-rsm.stp</span></code> and assign the register <code class="docutils literal notranslate"><span class="pre">nsvr(1)</span></code> with file name.</p>
<p>In the parameter file we can find, the name of the map to be used, mechanical parameters listing <a class="reference internal" href="#lstmecparam"><span class="std std-ref">params-rsm.stp Mechanical paramter of the AGV</span></a>, etc.</p>
<div class="literal-block-wrapper docutils container" id="lstmecparam">
<div class="code-block-caption"><span class="caption-text">params-rsm.stp Mechanical paramter of the AGV</span><a class="headerlink" href="#lstmecparam" title="Permalink to this code">¶</a></div>
<div class="highlight-basic notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="p">;</span>
<span class="w"> </span><span class="p">;</span><span class="w">   </span><span class="vg">Registers</span><span class="w"> </span><span class="vg">for</span><span class="w"> </span><span class="vg">mechanical</span><span class="w"> </span><span class="vg">configuration</span>
<span class="w"> </span><span class="p">;</span>
<span class="w"> </span><span class="vg">rr</span><span class="p">(</span><span class="il">100</span><span class="p">)</span><span class="w">     </span><span class="mf">0.4185</span><span class="w">                  </span><span class="p">;</span><span class="w"> </span><span class="vg">RR_POS_SLEWRING_STEER_FRONT_X</span><span class="w"> </span><span class="p">[</span><span class="vg">m</span><span class="p">]</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="vg">position</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">center</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">front</span><span class="w"> </span><span class="vg">slewring</span>
<span class="w"> </span><span class="vg">rr</span><span class="p">(</span><span class="il">101</span><span class="p">)</span><span class="w"> </span><span class="mf">0.0</span><span class="w">                                 </span><span class="p">;</span><span class="w"> </span><span class="vg">RR_POS_SLEWRING_STEER_FRONT_Y</span><span class="w"> </span><span class="p">[</span><span class="vg">m</span><span class="p">]</span><span class="w"> </span><span class="vg">Y</span><span class="w"> </span><span class="vg">position</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">center</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">front</span><span class="w"> </span><span class="vg">slewring</span>
<span class="w"> </span><span class="vg">rr</span><span class="p">(</span><span class="il">102</span><span class="p">)</span><span class="w"> </span><span class="mf">0.1525</span><span class="w">                      </span><span class="p">;</span><span class="w"> </span><span class="vg">RR_RADIUS_SLEWRING_FRONT</span><span class="w">              </span><span class="p">[</span><span class="vg">m</span><span class="p">]</span><span class="w"> </span><span class="vg">Distance</span><span class="w"> </span><span class="vg">from</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">center</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">wheel</span><span class="w"> </span><span class="vg">composing</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">electronic</span><span class="w"> </span><span class="vg">front</span><span class="w"> </span><span class="vg">steer</span>
<span class="w"> </span><span class="vg">rr</span><span class="p">(</span><span class="il">103</span><span class="p">)</span><span class="w">     </span><span class="mf">-0.4185</span><span class="w">                 </span><span class="p">;</span><span class="w"> </span><span class="vg">RR_POS_SLEWRING_STEER_REAR_X</span><span class="w">  </span><span class="p">[</span><span class="vg">m</span><span class="p">]</span><span class="w"> </span><span class="vg">X</span><span class="w"> </span><span class="vg">position</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">center</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">rear</span><span class="w"> </span><span class="vg">slewring</span>
<span class="w"> </span><span class="vg">rr</span><span class="p">(</span><span class="il">104</span><span class="p">)</span><span class="w"> </span><span class="mf">0.0</span><span class="w">                                 </span><span class="p">;</span><span class="w"> </span><span class="vg">RR_POS_SLEWRING_STEER_REAR_Y</span><span class="w">  </span><span class="p">[</span><span class="vg">m</span><span class="p">]</span><span class="w"> </span><span class="vg">Y</span><span class="w"> </span><span class="vg">position</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">center</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">rear</span><span class="w"> </span><span class="vg">slewring</span>
<span class="w"> </span><span class="vg">rr</span><span class="p">(</span><span class="il">105</span><span class="p">)</span><span class="w"> </span><span class="mf">0.1525</span><span class="w">                      </span><span class="p">;</span><span class="w"> </span><span class="vg">RR_RADIUS_SLEWRING_REAR</span><span class="w">               </span><span class="p">[</span><span class="vg">m</span><span class="p">]</span><span class="w"> </span><span class="vg">Distance</span><span class="w"> </span><span class="vg">from</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">center</span><span class="w"> </span><span class="vg">of</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">wheel</span><span class="w"> </span><span class="vg">composing</span><span class="w"> </span><span class="vg">the</span><span class="w"> </span><span class="vg">electronic</span><span class="w"> </span><span class="vg">rear</span><span class="w"> </span><span class="vg">steer</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="register-backup">
<h3>4.3.5. Register backup<a class="headerlink" href="#register-backup" title="Permalink to this headline">¶</a></h3>
<p>Non volatile registers are stored in memory, when RTE is loaded it retrieve the values from the memory. It is a good idea anyway to backup the values of non volatile registers to a file, and load them in case of loss of memory.</p>
<p>We can save the values of registers to a file by sending the command <code class="docutils literal notranslate"><span class="pre">uar</span> <span class="pre">/fb/lostreg.stp</span></code>. The file <code class="docutils literal notranslate"><span class="pre">lostreg.stp</span></code> is a file which contain desired register to be saved. For example if we want to save only the values of regiters nvrr(140) and nvrr(162) we write in the file only these. When calling the command uar, only these registers are saved. There is a template file that can be used as a starting point.</p>
<p>If RTE lose memory, it load the file <code class="docutils literal notranslate"><span class="pre">/fa/lostreg.stp</span></code> when needed, the operator have to confirm it. In the file <code class="docutils literal notranslate"><span class="pre">/fa/lostreg.stp</span></code> there is a link to the file <code class="docutils literal notranslate"><span class="pre">/fb/lostreg.stp</span></code>.</p>
<p>For example if we have more than one agv, with different register values, we can call the command uar for each agv then copy the file <code class="docutils literal notranslate"><span class="pre">/fb/lostreg.stp</span></code> to our computer, e.g. <code class="docutils literal notranslate"><span class="pre">fsave</span> <span class="pre">-o</span> <span class="pre">/fb/lostreg.stp</span> <span class="pre">agv01/lostreg.stp</span></code> , this command copy the file from <code class="docutils literal notranslate"><span class="pre">/fb</span></code> to the folder <code class="docutils literal notranslate"><span class="pre">agv01</span></code> in the project directory.</p>
</div>
<div class="section" id="general-definitions">
<h3>4.3.6. General definitions<a class="headerlink" href="#general-definitions" title="Permalink to this headline">¶</a></h3>
<p>Variables defined globally, at project level <a class="reference internal" href="#generaldefinitions"><span class="std std-ref">Variable definitions, project level</span></a>.</p>
<div class="figure align-center" id="id24" style="width: 400px">
<span id="generaldefinitions"></span><img alt="../../_images/generaldefinitions.png" src="../../_images/generaldefinitions.png" />
<p class="caption"><span class="caption-text">Variable definitions, project level</span></p>
</div>
<div class="figure align-center" id="id25" style="width: 400px">
<span id="generaldefinitions2"></span><img alt="../../_images/generaldefinitions2.png" src="../../_images/generaldefinitions2.png" />
<p class="caption"><span class="caption-text">If the variable <code class="docutils literal notranslate"><span class="pre">MGV_ROBOX</span></code> is defined gloably, a file is included otherwise another one is included</span></p>
</div>
</div>
</div>
<div class="section" id="agv-ecosystem">
<h2>4.4. AGV ecosystem<a class="headerlink" href="#agv-ecosystem" title="Permalink to this headline">¶</a></h2>
<div class="section" id="software-and-tools">
<h3>4.4.1. Software and tools<a class="headerlink" href="#software-and-tools" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>The software needed to program and setup an AGV are:</dt>
<dd><ul class="first last simple">
<li>Map generator : RAT can be used</li>
<li>AgvManager : Script and path planning</li>
<li>Compilers: RCE and ICmap compilers</li>
<li>RDE</li>
<li>Database : optional</li>
</ul>
</dd>
<dt>The electronic hardware needed:</dt>
<dd><ul class="first last simple">
<li>RP1 : Robox controller to control AGV</li>
<li>personal computer: Where AgvManager will be executed</li>
<li>Plc or RP1: As an interface with signals from the plant</li>
<li>Wireless switch to communicate between RP1 and AgvManager</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="agvmanager-rp1-communication-protocol">
<h3>4.4.2. AgvManager-RP1 communication protocol<a class="headerlink" href="#agvmanager-rp1-communication-protocol" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="hardware-configuration">
<h2>4.5. Hardware configuration<a class="headerlink" href="#hardware-configuration" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="program-description">
<h2>4.6. Program description<a class="headerlink" href="#program-description" title="Permalink to this headline">¶</a></h2>
<p>The Agv program consist of 2 RTE projects: AGV program and antenna program. The antenna program is used only to program the address of canopen devices. The AGV program is used to control the agv and communicate with AgvManager.</p>
<p>The agv program is written in R3 and in Object blocks. The R3 program consist of 7 tasks and one Rule. And the OB program consist of 2 object blocks: one for wheel control, with 2 instances, and one for AGV with one instance. The ob for Agv is changed depending on the type of the agv. In this example we will use the mgv object block for magnetic guided vehicles.</p>
<p>Some logic is written in R3 other logic is written in OB. Important non volatile parameters are saved in the file <code class="docutils literal notranslate"><span class="pre">lostreg.stp</span></code>, this file is used as backup in case the memory of the agv is lost.</p>
<p>We already see how to set some parameters and value in RDE or in the dispan. AGV operations changes from plant to plant. The main logic, a part from improvements, still the same. Plant specific logic changes. These kinds of operations, that the AGV get from AgvManager have to be implemented in R3.</p>
<p>For example, if we need to implement the logic of the LOAD command operation from AgvManager we have to do it in <code class="docutils literal notranslate"><span class="pre">rules--&gt;</span> <span class="pre">function</span> <span class="pre">eseguiOperazioni()</span></code>. The constant <code class="docutils literal notranslate"><span class="pre">O_LOAD</span></code> have to be defined in the file <code class="docutils literal notranslate"><span class="pre">operations.i3</span></code>. The value of the constant should be equal to the value defined in AgvManager, that is <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p>
</div>
</div>


            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Appendices/External_editors.html" class="btn btn-neutral float-right" title="1. External editors" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Motion_control.html" class="btn btn-neutral" title="3. Motion control" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>